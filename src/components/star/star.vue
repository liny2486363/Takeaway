<template>
   <div class="star" :class="starType">
       <span v-for="itemClass in itemClasses" :class="itemClass" class="star-item" ></span>
   </div>    
</template>
<script type="text/ecmascript-6">
const length=5;
const cls_on='on';
const cls_half='half';
const cls_off='off';

export default {
    props:{
        size:{
            type:Number
        },
        score:{
            type:Number
        }
    },
    computed:{
        starType(){
            return 'star-'+this.size;
        },
        itemClasses(){
            let result=[];
            let score=Math.floor(this.score*2)/2;
            //判断是否有0.5 判断半星
            let hasdecimal=score % 1 !== 0;
            //判断整数位多少 判断全星
            let integer=Math.floor(score);
            for(let i=0;i<integer;i++){
                result.push(cls_on);
            }
            if(hasdecimal){
                result.push[cls_half];
            }
            while(result.length<length){
                result.push[cls_off];
            }
            return result;
        }
    }
}
</script>
<style scoped lang="stylus">
.star
    font-size :0
    .star-item
        display: inline-block
        background-repeat: no-repeat
    &.star-48 
        .star-item
            width: 20px
            height: 20px
            margin-right: 22px
            background-size: 20px 20px
            &.last-child
                margin-right :0
            &.on
                background-image: url('star48_on@2x.png')
            &.half
                background-image: url('star48_half@2x.png')
            &.off
                background-image: url('star48_off@2x.png')

    &.star-36 
        .star-item
            width: 15px
            height: 15px
            margin-right: 6px
            background-size: 15px 15px
            &.last-child
                margin-right :0
            &.on
                background-image: url('star36_on@2x.png')
            &.half
                background-image: url('star36_half@2x.png')
            &.off
                background-image: url('star36_off@2x.png')            
     
    &.star-24
        .star-item
            width: 10px
            height: 10px
            margin-right: 3px
            background-size: 10px 10px
            &.last-child
                margin-right :0
            &.on
                background-image: url('star24_on@2x.png')
            &.half
                background-image: url('star24_half@2x.png')
            &.off
                background-image: url('star24_off@2x.png')  



</style>
